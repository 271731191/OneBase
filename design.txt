
简介

request    : http请求

route      : 路由控制

controller : 模型(model)实例化,执行模型方法,异常处理,跳转控制,渲染模板

view       : 数据展示

model      : 逻辑(logic)实例化,执行逻辑方法,属性定义,读取器/修改器定义,关联定义,事务控制

logic      : 服务(service)实例化,执行逻辑处理,执行服务方法,执行函数,执行trait,数据验证,行为日志记录,服务端缓存

service    : 数据(dao)实例化,执行数据库操作,auth权限,sms短信,pay支付 等通用服务 需要依赖的资源放在library

dao        : 框架(tp5)实例化或静态db操作,CURD封装


流程


	             exception

			↑

request → route → controller  →  view

			↓
                       
 		       model    →  transaction
				→  attribute
                        ↓

		       logic    →  trait
				→  function
				→  validate
			↓
			
		      service   →  auth |
				→  sms  | → library
				→  pay  |

			↓
			
		        dao




类关系

request → route → UserController → AdminBaseController → CommonBaseController → Controller
                          ↓                  ↓                    ↓
                     loader model         loader model           loader model
                        sington             sington               sington
                                        

  model             logic            service
BaseModel  →  LogicBaseModel  → ServiceBaseModel

  ↓↓             ↓↓               ↓↓
UserModel        LogicModel         ServiceModel
   ...              ...                ...